<div class="card border-0 shadow-sm mb-4" id="demandeur">
    <div class="card-header bg-success text-white">
        <h4 class="mb-0">
            <i class="bi bi-person-plus-fill me-2"></i>
            Guide Complet du Demandeur
        </h4>
    </div>
    <div class="card-body">
        <p class="lead">En tant que <strong>Demandeur</strong>, vous êtes responsable de créer et suivre vos demandes de projets IT.</p>

        <h5 class="text-success mb-3 mt-4">
            <i class="bi bi-file-earmark-plus me-2"></i>
            Créer une Demande de Projet
        </h5>
        <div class="alert alert-light border">
            <h6 class="mb-3">Procédure étape par étape :</h6>
            <ol>
                <li class="mb-3">
                    <strong>Accéder au formulaire :</strong>
                    <ul>
                        <li>Menu <code>Mes Demandes</code> → Cliquez sur <code>Nouvelle Demande</code></li>
                        <li>Ou directement via le bouton <code>+ Nouvelle Demande</code> en haut de la liste</li>
                    </ul>
                </li>
                <li class="mb-3">
                    <strong>Remplir les informations obligatoires :</strong>
                    <ul>
                        <li><strong>Titre du projet :</strong> Nom clair et explicite du projet (ex: "Mise en place d'un système de gestion RH")</li>
                        <li><strong>Description du besoin :</strong> Description détaillée du besoin métier (minimum 50 caractères recommandé)</li>
                        <li><strong>Objectifs :</strong> Objectifs précis et mesurables du projet</li>
                        <li><strong>Contexte / Problème :</strong> Contexte actuel et problème à résoudre (optionnel mais recommandé)</li>
                    </ul>
                </li>
                <li class="mb-3">
                    <strong>Définir les caractéristiques :</strong>
                    <ul>
                        <li><strong>Urgence :</strong> Basse / Moyenne / Haute (impacte la priorité de traitement)</li>
                        <li><strong>Criticité :</strong> Basse / Moyenne / Haute (impacte l'importance stratégique)</li>
                        <li><strong>Date souhaitée :</strong> Date de mise en œuvre souhaitée (aide à la planification)</li>
                    </ul>
                </li>
                <li class="mb-3">
                    <strong>Joindre le cahier des charges :</strong>
                    <ul>
                        <li><strong>Obligatoire :</strong> Le cahier des charges est requis pour soumettre la demande</li>
                        <li><strong>Formats acceptés :</strong> PDF (.pdf), Word (.doc, .docx), Excel (.xls, .xlsx)</li>
                        <li><strong>Taille maximale :</strong> 10 MB</li>
                        <li><strong>Conseil :</strong> Un cahier des charges complet et détaillé accélère la validation</li>
                    </ul>
                </li>
                <li class="mb-3">
                    <strong>Sélection du Directeur Métier :</strong>
                    <ul>
                        <li>Le Directeur Métier de votre direction est <strong>pré-sélectionné automatiquement</strong></li>
                        <li>Vous ne pouvez pas le modifier (sécurité)</li>
                        <li>C'est lui qui validera votre demande en premier</li>
                    </ul>
                </li>
                <li class="mb-3">
                    <strong>Ajouter des documents complémentaires (optionnel) :</strong>
                    <ul>
                        <li>Vous pouvez ajouter des annexes, schémas, diagrammes</li>
                        <li>Même contraintes de format et taille que le cahier des charges</li>
                        <li>Utile pour fournir plus de contexte</li>
                    </ul>
                </li>
                <li class="mb-3">
                    <strong>Sauvegarder en brouillon ou soumettre :</strong>
                    <ul>
                        <li><code>Sauvegarder en brouillon</code> : Permet de compléter plus tard</li>
                        <li><code>Soumettre</code> : Envoie la demande en validation (statut change en "En attente de validation Directeur Métier")</li>
                    </ul>
                </li>
            </ol>
        </div>

        <h5 class="text-success mb-3 mt-4">
            <i class="bi bi-eye me-2"></i>
            Suivre vos Demandes
        </h5>
        <div class="row">
            <div class="col-md-6">
                <div class="card border-success mb-3">
                    <div class="card-header bg-success-subtle">
                        <strong>Vue Liste (Mes Demandes)</strong>
                    </div>
                    <div class="card-body">
                        <p>La liste affiche :</p>
                        <ul>
                            <li>Le titre de chaque demande</li>
                            <li>Le statut actuel (badge coloré)</li>
                            <li>La date de soumission</li>
                            <li>La direction</li>
                            <li>Le Directeur Métier</li>
                        </ul>
                        <p class="mb-0"><strong>Actions :</strong></p>
                        <ul class="mb-0">
                            <li>Cliquer sur le titre pour voir les détails</li>
                            <li>Modifier (si brouillon ou correction demandée)</li>
                        </ul>
                    </div>
                </div>
            </div>
            <div class="col-md-6">
                <div class="card border-info mb-3">
                    <div class="card-header bg-info-subtle">
                        <strong>Vue Détails</strong>
                    </div>
                    <div class="card-body">
                        <p>Les détails affichent :</p>
                        <ul>
                            <li>Toutes les informations de la demande</li>
                            <li>L'historique complet des validations</li>
                            <li>Les commentaires des validateurs</li>
                            <li>Les documents joints</li>
                            <li>Le projet créé (si validée)</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>

        <h5 class="text-success mb-3 mt-4">
            <i class="bi bi-arrow-counterclockwise me-2"></i>
            Répondre à une Demande de Correction
        </h5>
        <div class="alert alert-warning">
            <p><strong>Quand :</strong> Si le Directeur Métier ou la DSI demande une correction</p>
            <p><strong>Procédure :</strong></p>
            <ol>
                <li>Vous recevez une notification</li>
                <li>Accédez aux détails de la demande</li>
                <li>Le statut est "Correction demandée par DM" ou "Retournée au demandeur par DSI"</li>
                <li>Cliquez sur <code>Modifier</code></li>
                <li>Apportez les modifications demandées</li>
                <li>Vous pouvez modifier tous les champs et documents</li>
                <li>Cliquez sur <code>Soumettre</code> pour renvoyer en validation</li>
            </ol>
        </div>

        <h5 class="text-success mb-3 mt-4">
            <i class="bi bi-bell me-2"></i>
            Notifications Automatiques
        </h5>
        <p>Vous recevez automatiquement une notification pour :</p>
        <ul>
            <li>Chaque changement de statut de vos demandes</li>
            <li>Chaque demande de correction</li>
            <li>Chaque validation ou rejet</li>
            <li>La création du projet (si votre demande est validée)</li>
        </ul>
        <p>Consultez vos notifications via l'icône <i class="bi bi-bell"></i> en haut à droite.</p>

        <h5 class="text-success mb-3 mt-4">
            <i class="bi bi-exclamation-triangle me-2"></i>
            Contraintes et Limitations
        </h5>
        <div class="table-responsive">
            <table class="table table-bordered">
                <thead class="table-light">
                    <tr>
                        <th>Contrainte</th>
                        <th>Détail</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><strong>Modification</strong></td>
                        <td>Vous ne pouvez modifier que vos propres demandes</td>
                    </tr>
                    <tr>
                        <td><strong>Statut</strong></td>
                        <td>Une demande validée ou rejetée ne peut plus être modifiée</td>
                    </tr>
                    <tr>
                        <td><strong>Cahier des charges</strong></td>
                        <td>Obligatoire pour soumettre la demande</td>
                    </tr>
                    <tr>
                        <td><strong>Taille fichier</strong></td>
                        <td>Maximum 10 MB par fichier</td>
                    </tr>
                    <tr>
                        <td><strong>Formats</strong></td>
                        <td>PDF, Word (.doc, .docx), Excel (.xls, .xlsx) uniquement</td>
                    </tr>
                    <tr>
                        <td><strong>Directeur Métier</strong></td>
                        <td>Pré-sélectionné automatiquement, non modifiable</td>
                    </tr>
                </tbody>
            </table>
        </div>

        <div class="alert alert-success mt-4">
            <i class="bi bi-lightbulb-fill me-2"></i>
            <strong>Conseils pour une demande réussie :</strong>
            <ul class="mb-0">
                <li>Rédigez un cahier des charges complet et détaillé</li>
                <li>Définissez clairement les objectifs mesurables</li>
                <li>Justifiez l'urgence et la criticité</li>
                <li>Ajoutez des documents complémentaires si nécessaire</li>
                <li>Vérifiez toutes les informations avant de soumettre</li>
            </ul>
        </div>
    </div>
</div>

